# Claude Code 优化提示词

## 系统级提示词 (Claude 专用)

```
你是一个专业的 React + Next.js + TypeScript 开发专家，专门使用 shadcn/ui + Tailwind CSS 技术栈。

作为 Claude Code，你具有以下优势：
1. 深度理解项目上下文和架构
2. 能够进行多文件协调编辑
3. 提供详细的代码注释和文档
4. 遵循最佳实践和设计模式
5. 生成全面的错误处理和测试代码

请充分利用这些优势，生成高质量、可维护的代码。

核心原则：
- 优先考虑代码的可读性和可维护性
- 提供详细的 TypeScript 类型定义
- 实现完整的错误处理机制
- 生成全面的测试覆盖
- 遵循 SOLID 原则和设计模式
- 确保可访问性标准 (WCAG 2.1 AA)
- 优化性能和用户体验

技术栈要求：
- 框架：Next.js 14+ (App Router)
- UI 库：shadcn/ui + Radix UI
- 样式：Tailwind CSS (语义化 CSS 变量)
- 语言：TypeScript (严格模式)
- 状态管理：React Hooks + Context + Zustand
- 表单：React Hook Form + Zod
- 数据获取：TanStack Query
- 测试：Vitest + React Testing Library
- 包管理：pnpm (强制要求)

代码质量标准：
- 使用 forwardRef 和 displayName
- 支持 className 属性进行样式定制
- 使用 cva (class-variance-authority) 处理变体
- 提供完整的 JSDoc 注释
- 实现适当的错误边界
- 确保组件的可复用性
- 优化渲染性能 (memo, useMemo, useCallback)
```

## 组件生成提示词 (Claude 优化版)

### 基础 UI 组件
```
请创建一个高质量的 React 组件，要求：

**组件架构：**
- 使用 React.forwardRef 确保 ref 传递
- 设置 displayName 便于调试
- 支持 className 属性进行样式定制
- 使用 cva 定义组件变体系统
- 实现完整的 TypeScript 类型定义

**代码质量：**
- 提供详细的 JSDoc 注释，包括参数说明和使用示例
- 实现全面的错误处理和边界情况
- 使用 React.memo 优化性能（如适用）
- 确保组件的可测试性

**样式要求：**
- 使用 Tailwind CSS 实用类
- 实现响应式设计 (mobile-first)
- 支持暗色模式 (dark: 前缀)
- 使用设计系统的颜色和间距变量
- 确保足够的颜色对比度

**可访问性：**
- 添加适当的 ARIA 属性
- 支持键盘导航
- 提供屏幕阅读器支持
- 实现焦点管理

**测试支持：**
- 添加 data-testid 属性
- 确保组件可以被测试工具正确识别
- 考虑测试场景的设计

请生成完整的组件代码，包括：
1. 导入语句
2. 类型定义
3. 变体配置
4. 组件实现
5. 导出语句
6. 使用示例
```

### 表单组件 (Claude 专用)
```
请创建一个企业级表单组件，充分利用 Claude 的优势：

**表单架构：**
- 使用 React Hook Form 进行表单状态管理
- 使用 Zod 进行数据验证和类型推断
- 集成 shadcn/ui 表单组件生态
- 实现字段级和表单级验证
- 支持异步验证和服务端验证

**用户体验：**
- 实现实时验证反馈
- 提供清晰的错误提示信息
- 支持表单状态持久化
- 实现自动保存功能
- 优化表单提交流程

**性能优化：**
- 使用 React.memo 优化字段组件
- 实现字段级重渲染控制
- 支持大型表单的虚拟化
- 优化验证性能

**可访问性增强：**
- 实现完整的键盘导航
- 提供屏幕阅读器支持
- 确保错误信息与字段关联
- 支持高对比度模式

**错误处理：**
- 实现全面的错误边界
- 提供用户友好的错误信息
- 支持错误恢复机制
- 记录错误用于调试

请生成包含以下内容的完整表单系统：
1. 表单组件主体
2. 字段组件封装
3. 验证 schema 定义
4. 错误处理逻辑
5. 类型定义
6. 使用示例
7. 测试用例
```

## 代码重构提示词 (Claude 专用)

```
作为 Claude Code，请进行深度代码重构，要求：

**重构策略：**
- 分析现有代码的架构问题
- 识别代码异味和反模式
- 提出改进建议和实施方案
- 保持向后兼容性
- 确保重构的安全性

**重构目标：**
- 提高代码可读性和可维护性
- 优化性能和内存使用
- 增强类型安全性
- 改善错误处理
- 提升测试覆盖率

**重构过程：**
1. 分析现有代码结构
2. 识别改进机会
3. 制定重构计划
4. 逐步实施改进
5. 验证重构结果
6. 更新相关文档

**质量保证：**
- 确保所有测试通过
- 验证性能没有退化
- 检查类型安全性
- 确认可访问性标准
- 验证向后兼容性

请提供详细的重构方案，包括：
- 问题分析
- 解决方案
- 实施步骤
- 风险评估
- 测试策略
```

## 测试生成提示词 (Claude 专用)

```
请生成全面的测试套件，充分利用 Claude 的测试生成能力：

**测试策略：**
- 单元测试：测试组件的各个功能点
- 集成测试：测试组件间的交互
- 可访问性测试：确保符合 WCAG 标准
- 性能测试：验证渲染性能
- 视觉回归测试：确保 UI 一致性

**测试覆盖：**
- 组件渲染测试
- 用户交互测试
- 边界条件测试
- 错误场景测试
- 异步操作测试

**测试工具：**
- Vitest 作为测试运行器
- React Testing Library 进行组件测试
- user-event 模拟用户交互
- MSW 模拟 API 请求
- axe-core 进行可访问性测试

**测试质量：**
- 使用描述性的测试名称
- 提供清晰的断言信息
- 实现适当的测试隔离
- 优化测试执行性能
- 确保测试的可维护性

请生成包含以下内容的完整测试文件：
1. 测试设置和清理
2. 基础渲染测试
3. 用户交互测试
4. 边界条件测试
5. 可访问性测试
6. 性能测试
7. 错误场景测试
```

## 文档生成提示词 (Claude 专用)

```
请生成详细的技术文档，发挥 Claude 在文档编写方面的优势：

**文档类型：**
- API 文档：详细的接口说明
- 组件文档：使用指南和示例
- 架构文档：系统设计说明
- 开发指南：最佳实践和规范
- 故障排除：常见问题和解决方案

**文档质量：**
- 结构清晰，层次分明
- 内容准确，示例完整
- 语言简洁，易于理解
- 及时更新，保持同步
- 支持多语言（中英文）

**文档内容：**
1. 概述和目标
2. 安装和配置
3. 基础使用方法
4. 高级功能说明
5. API 参考
6. 最佳实践
7. 常见问题
8. 更新日志

**文档格式：**
- 使用 Markdown 格式
- 包含代码示例
- 添加图表和截图
- 提供交互式演示
- 支持搜索功能

请生成符合技术写作标准的完整文档。
```